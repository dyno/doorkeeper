YUI.add("gallery-yui-slideshow",function(b){var a=function(c){a.superclass.constructor.apply(this,arguments);};a.NAME="Slideshow";a.PRESETS={fade:{slideIn:{before:{opacity:0},transition:{opacity:1}},slideOut:{before:{opacity:1},transition:{opacity:0}}},slideDown:{slideIn:{before:{bottom:"cH"},transition:{bottom:"0px"}},slideOut:{before:{bottom:"0px"},transition:{bottom:"-cH"}}},slideLeft:{slideIn:{before:{right:"-cW"},transition:{right:"0px"}},slideOut:{before:{right:"0px"},transition:{right:"cW"}}},slideUp:{slideIn:{before:{top:"cH"},transition:{top:"0px"}},slideOut:{before:{top:"0px"},transition:{top:"-cH"}}},slideRight:{slideIn:{before:{left:"-cW"},transition:{left:"0px"}},slideOut:{before:{left:"0px"},transition:{left:"cW"}}}};a.ATTRS={slides:{value:null},currentIndex:{value:0},previousButton:{value:null},nextButton:{value:null},pauseButton:{value:null},playButton:{value:null},pages:{value:null},interval:{value:4},autoplay:{value:true},pauseOnChange:{value:true},pauseOnHover:{value:true},duration:{value:0.5},easing:{value:"ease-out"},transition:{value:a.PRESETS.fade},transInBefore:{value:{zIndex:1}},transInAfter:{value:{zIndex:2}},transOutBefore:{value:{zIndex:2}},transOutAfter:{value:{zIndex:-30000}},_debug:{value:false},_intervalID:{value:null},_isPaused:{value:true}};b.extend(a,b.Widget,{next:function(){if(this.get("pauseOnChange")){this.pause();}this.slide("next");},pause:function(){if(!this.get("_isPaused")){window.clearInterval(this.get("_intervalID"));this.set("_isPaused",true);}},play:function(){var c=this,d;if(this.get("_isPaused")){d=this.get("_debug")?"setTimeout":"setInterval";this.set("_intervalID",window[d](function(){c.slide("next");},parseInt(this.get("interval")*1000,10)));this.set("_isPaused",false);}},previous:function(){if(this.get("pauseOnChange")){this.pause();}this.slide("previous");},slide:function(g){var e=this,d=this.get("currentIndex"),j=this.get("slides"),h=this.get("transition"),c,f;c=j.item(d);switch(g){case"next":if(d+1<j.size()){d++;}else{d=0;}break;case"previous":if(d-1>-1){d--;}else{d=j.size()-1;}break;default:if(g==d){return false;}else{d=parseInt(g,10);}break;}this.set("currentIndex",d);f=j.item(d);if(b.Lang.isUndefined(h.slideOut.transition.duration)){h.slideOut.transition.duration=this.get("duration");}if(b.Lang.isUndefined(h.slideOut.transition.easing)){h.slideOut.transition.easing=this.get("easing");}if(b.Lang.isUndefined(h.slideIn.transition.duration)){h.slideIn.transition.duration=this.get("duration");}if(b.Lang.isUndefined(h.slideIn.transition.easing)){h.slideIn.transition.easing=this.get("easing");}this._setStyles(c,this.get("transOutBefore"));this._setStyles(f,this.get("transInBefore"));if(b.Lang.isObject(h.slideOut.before)){this._setStyles(c,h.slideOut.before);}if(b.Lang.isObject(h.slideIn.before)){this._setStyles(f,h.slideIn.before);}h.slideOut.transition=this._checkTransitionValues(c,h.slideOut.transition);h.slideIn.transition=this._checkTransitionValues(f,h.slideIn.transition);c.transition(h.slideOut.transition,function(){e._setStyles(c,e.get("transOutAfter"));if(b.Lang.isObject(h.slideOut.after)){e._setStyles(c,h.slideOut.after);}});f.transition(h.slideIn.transition,function(){e._setStyles(f,e.get("transInAfter"));if(b.Lang.isObject(h.slideIn.after)){e._setStyles(f,h.slideIn.after);}});},_checkCSSValue:function(c,d){switch(d){case"cW":case"containerWidth":return parseInt(this.get("contentBox").get("offsetWidth"),10)+"px";break;case"-cW":case"-containerWidth":return(parseInt(this.get("contentBox").get("offsetWidth"),10)*-1)+"px";break;case"cH":case"containerHeight":return parseInt(this.get("contentBox").get("offsetHeight"),10)+"px";break;case"-cH":case"-containerHeight":return(parseInt(this.get("contentBox").get("offsetHeight"),10)*-1)+"px";break;case"sW":case"slideWidth":return parseInt(c.get("offsetWidth"))+"px";break;case"-sW":case"-slideWidth":return(parseInt(c.get("offsetWidth"))*-1)+"px";break;case"sH":case"slideHeight":return parseInt(c.get("offsetHeight"))+"px";break;case"-sH":case"-slideHeight":return(parseInt(c.get("offsetHeight"))*-1)+"px";break;default:return d;break;}},_checkTransitionValues:function(c,e){var d={},f;for(i in e){if(i=="duration"||i=="easing"||i=="delay"){d[i]=e[i];}else{d[i]=this._checkCSSValue(c,e[i]);}}return d;},_handlePageClick:function(c){if(this.get("pauseOnChange")){this.pause();}c.target=c.target.ancestor("."+this.getClassName("page"));this.slide(this.get("pages").indexOf(c.target));},_setStyles:function(c,e){for(var d in e){if(e.hasOwnProperty(d)){c.setStyle(d,this._checkCSSValue(c,e[d]));}}},bindUI:function(){var d=["previous","next","pause","play"],g=this.get("pages"),f,c,e;for(e=0;e<d.length;e++){c=this.get(d[e]+"Button");if(!b.Lang.isNull(c)){b.on("click",this[d[e]],c,this);}}if(!b.Lang.isNull(g)){g.on("click",this._handlePageClick,this);}if(this.get("pauseOnHover")){this.get("contentBox").on("mouseenter",this.pause,this);this.get("contentBox").on("mouseleave",this.play,this);}},syncUI:function(){var c=this,e=this.get("pages"),d=0;this.get("slides").each(function(f){d++;if(d>1){f.setStyles(c.get("transOutAfter"));}});if(!b.Lang.isNull(e)){e.addClass(this.getClassName("page"));}if(this.get("autoplay")){this.play();}},initializer:function(){var c=this.get("pages");this.set("slides",this.get("contentBox").get("children"));if(b.Lang.isString(c)){c=b.one(c);}if(!b.Lang.isNull(c)){c=c.get("children");}this.set("pages",c);}});b.Slideshow=a;},"gallery-2011.04.06-19-44",{requires:["widget","transition","event-mouseenter"]});