YUI.add("widget-position-align",function(a){var h=a.Lang,d="align",f="bindUI",b="syncUI",e="offsetWidth",i="offsetHeight",k="viewportRegion",g="region",j="alignChange";function c(l){if(!this._posNode){a.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added");}a.after(this._syncUIPosAlign,this,b);a.after(this._bindUIPosAlign,this,f);}c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:false,value:false}};c.TL="tl";c.TR="tr";c.BL="bl";c.BR="br";c.TC="tc";c.RC="rc";c.BC="bc";c.LC="lc";c.CC="cc";c.prototype={_syncUIPosAlign:function(){var l=this.get(d);if(l){this._uiSetAlign(l.node,l.points);}},_bindUIPosAlign:function(){this.after(j,this._afterAlignChange);},_setAlignCenter:function(l){if(l){this.set(d,{node:l===true?null:l,points:[c.CC,c.CC]});}return l;},_afterAlignChange:function(l){if(l.newVal){this._uiSetAlign(l.newVal.node,l.newVal.points);}},_uiSetAlign:function(o,n){if(!h.isArray(n)||n.length!=2){a.error("align: Invalid Points Arguments");return;}var m=this._getRegion(o),l,p,q;if(m){l=n[0];p=n[1];switch(p){case c.TL:q=[m.left,m.top];break;case c.TR:q=[m.right,m.top];break;case c.BL:q=[m.left,m.bottom];break;case c.BR:q=[m.right,m.bottom];break;case c.TC:q=[m.left+Math.floor(m.width/2),m.top];break;case c.BC:q=[m.left+Math.floor(m.width/2),m.bottom];break;case c.LC:q=[m.left,m.top+Math.floor(m.height/2)];break;case c.RC:q=[m.right,m.top+Math.floor(m.height/2),l];break;case c.CC:q=[m.left+Math.floor(m.width/2),m.top+Math.floor(m.height/2),l];break;default:break;}if(q){this._doAlign(l,q[0],q[1]);}}},_doAlign:function(m,l,p){var o=this._posNode,n;switch(m){case c.TL:n=[l,p];break;case c.TR:n=[l-o.get(e),p];break;case c.BL:n=[l,p-o.get(i)];break;case c.BR:n=[l-o.get(e),p-o.get(i)];break;case c.TC:n=[l-(o.get(e)/2),p];break;case c.BC:n=[l-(o.get(e)/2),p-o.get(i)];break;case c.LC:n=[l,p-(o.get(i)/2)];break;case c.RC:n=[(l-o.get(e)),p-(o.get(i)/2)];break;case c.CC:n=[l-(o.get(e)/2),p-(o.get(i)/2)];break;default:break;}if(n){this.move(n);}},_getRegion:function(m){var l;if(!m){l=this._posNode.get(k);}else{m=a.Node.one(m);if(m){l=m.get(g);}}return l;},align:function(m,l){this.set(d,{node:m,points:l});},centered:function(l){this.align(l,[c.CC,c.CC]);}};a.WidgetPositionAlign=c;},"@VERSION@",{requires:["widget-position"]});