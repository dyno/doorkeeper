YUI.add("app",function(d){function e(){}e.prototype={render:function(q,p){var n=this,o=n.get("renderer");if(o){o.call(n,function(){n.set("rendered",true);if(q){q.call(n,p);}},p);}}};d.RenderTarget=e;var h={},c="appStateChange",m="currentViewId",g="defaultViewId",j="id",k="parent",l="stateDelimiter",i="viewState",f=function(n){f.superclass.constructor.apply(this,arguments);};f.NAME="app";f.ATTRS={id:h,modal:h,modalFocus:h,renderer:h};d.extend(f,d.Base,{_stateChangeNotifier:function(q){var o,r,n,p=this.navs;for(o in p){if(p.hasOwnProperty(o)){r=p[o];n=r.get(m);r.fire(c,q);r.getView(n).fire(c,q);}}},initializer:function(){this.history=new d.HistoryHash();this.navs={};this.on(c,this._stateChangeNotifier);},addNav:function(o){var n=this,p=o.get(j);n.navs[p]=o;o.set(k,n);o.on(m+"Change",function(q){n.save(o,o.getView(q.newVal));});return o;},removeNav:function(o){var p=o,n;if(d.Lang.isObject(o)){p=o.get(j);}delete this.navs[p];return n||o;},save:function(p,n){if(!n.get("ephemeral")){var q=n.get("state"),o=n.get(j);if(q){o+=p.get(l)+q;}this.history.addValue(p.get(j),o);}else{}return this;}});d.augment(f,d.RenderTarget);d.App=f;var b=function(n){b.superclass.constructor.apply(this,arguments);};b.NAME="nav";b.ATTRS={id:h,parent:h,defaultViewId:h,currentViewId:h,stateDelimiter:{value:"|"},renderer:h};d.extend(b,d.Base,{initializer:function(){var n=this;n.views={};d.on("history:change",function(o){if(o.src===d.HistoryHash.SRC_HASH){var q=n.get(j),p=o.changed[q];if(p){n.navigate(function(){},p.newVal);}else{if(o.removed.nav){}}}});},addView:function(n){var o=n.get("id");this.views[o]=n;if(!this.get(g)){this.set(g,o);}n.set(k,this);return this;},removeView:function(n){var p=this.getViewId(n)[0],o=this.getView(n);delete this.views[p];return o;},getViewId:function(n){var q=n,p,o;if(d.Lang.isObject(n)){q=n.get(j);o=n.get(i);}p=q.split(this.get(l));if(!p[1]&&o){p[1]=o;}return p;},getView:function(n){var o=this.getViewId(n)[0];return this.views[o];},navigate:function(t,r){var v=this,s,p,o=t,q=v.get(m),u,n=function(){r=v.getView(p[0]);if(p[1]){r.set("viewState",p[1]);}r.render(function(){v.set(m,r.get(j));if(o){o.call(v,r);}},p[1]);};if(!r){s=v.get(k).history.get(v.get(j));}p=v.getViewId(r||s||q||v.get(g));if(q){q=v.getView(q);u=q.get("transitioner");if(u){u.call(v,function(){v.fire("transitionComplete");n();},r);}else{n();}}else{n();}}});d.augment(b,d.RenderTarget);d.Nav=b;var a=function(n){a.superclass.constructor.apply(this,arguments);};a.NAME="view";a.ATTRS={id:h,parent:h,header:h,footer:h,renderer:h,transitioner:h,viewState:h,ephemeral:{value:false}};d.extend(a,d.Base,{});d.augment(a,d.RenderTarget);d.View=a;},"@VERSION@",{requires:["base-base","history"]});